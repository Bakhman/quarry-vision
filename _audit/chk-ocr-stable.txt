# üß© QuarryVision ‚Äî Checkpoint Report: OCR Stable
# ----------------------------------------------------------
# Tag: chk-ocr-stable
# Date: 2025-11-07
# Branch: audit/review-2025-10-29
# Commit: <–±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏>
# ----------------------------------------------------------

## üîç –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ OCR/Detection.
–ú–æ–¥—É–ª—å `core/ocr` —Å—Ç–∞–±–∏–ª–µ–Ω, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∞—Ç–∏–Ω–∏—Ü—É –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—É.
–ú–æ–¥—É–ª—å `core/detection` –ø—Ä–æ—à—ë–ª smoke-—Ç–µ—Å—Ç—ã ROI –∏ PlateNormalize.

## üß† –°–≤–æ–¥–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- OCR Engine: Tess4J (Tesseract 5.x)
- Datapath: src/main/resources/tessdata
- Languages: eng+rus
- PSM: 7 (SINGLE_LINE)
- OEM: 1 (LSTM_ONLY)
- Whitelist: ABCDEKMHOPCTYX0123456789-
- Min Confidence: 70

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ (Maven Surefire)
```bash
mvn test
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

Tests run: 13, Failures: 0, Errors: 0, Skipped: 0
BUILD SUCCESS
Total time: 7.89 s

–¢–µ—Å—Ç—ã:

‚úÖ OcrServiceTest ‚Äî –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã

‚úÖ PlateNormalizeTest ‚Äî –≤—Å–µ –∫–µ–π—Å—ã –ø—Ä–æ–π–¥–µ–Ω—ã

‚úÖ RoiScanSmokeTest ‚Äî ROI —Å—Ç–∞–±–∏–ª–µ–Ω (‚â•90 % –≤—ã–±–æ—Ä–æ–∫)

‚úÖ DetectTest ‚Äî baseline –Ω–µ –∏–∑–º–µ–Ω—ë–Ω

üß± –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–ú–æ–¥—É–ª—å	–°–æ—Å—Ç–æ—è–Ω–∏–µ	–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
core/ocr	‚úÖ Stable	OCRService –∏ PlateNormalize –æ—Ç—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
core/detection	‚úÖ Stable	BucketDetector —Ä–∞–±–æ—Ç–∞–µ—Ç —Å OCR hook
Config	‚úÖ Stable	–∑–∞–≥—Ä—É–∑–∫–∞ YAML –∏ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
Boot	‚úÖ Stable	OCR init —á–µ—Ä–µ–∑ -Dqv.ocr.init
Pg	‚úÖ Stable	–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
üöß –í —Ä–∞–±–æ—Ç–µ

RoiScanSmokeTest: –¥–æ—Ä–∞–±–æ—Ç–∫–∞ ROI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É

OCR: –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä PSM –ø–æ —Ç–∏–ø—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ V6__detections_stats.sql

üèÅ –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥:

git add .
git commit -m "audit: finalize OCR & detection (chk-ocr-stable)"
git tag -a chk-ocr-stable -m "OCR stable checkpoint"

–î–æ–±–∞–≤–∏—Ç—å docs/audit-roadmap-v1.3.md –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ù–∞—á–∞—Ç—å Phase 3: UI Reports Integration (v1.3.x).

üì¶ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
target/quarry-vision-1.3.0-SNAPSHOT.jar
dist/quarry-vision-chk-ocr-stable.zip

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
app/quarry-vision.jar
config/application.yaml
app/tessdata/eng.traineddata
app/tessdata/rus.traineddata
jre/
run.bat

–ü–æ–¥–ø–∏—Å—å:
üìÖ 2025-11-07
üë§ Bakhman
ü§ñ –°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ: ChatGPT (DevMate)

---
üí° **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –°–æ—Ö—Ä–∞–Ω–∏ –∫–∞–∫ `_audit/chk-ocr-stable.txt`.
2. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ ‚Äî –æ–±–Ω–æ–≤–∏ –¥–∞—Ç—É, commit hash –∏ –≤—Å—Ç–∞–≤—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ `mvn test`.
3. –î–æ–±–∞–≤—å –≤ –∫–æ–º–º–∏—Ç –≤–º–µ—Å—Ç–µ —Å —Ç–µ–≥–æ–º `chk-ocr-stable`.
